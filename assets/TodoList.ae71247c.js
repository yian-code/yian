import{_ as u,o as s,c as d,b as t,K as f,$ as p,X as v,F as _,n as k,a0 as w,a1 as y,d as b,a2 as x,t as l}from"./app.72515998.js";const S={data(){return{arr:[],sked:""}},created(){localStorage.getItem("todolist")?this.arr=JSON.parse(localStorage.getItem("todolist")):this.arr=[]},methods:{timeFormat(e){let r=new Date(e),m=r.getMonth()+1+"",h=r.getDate()+"",i=r.getHours()+"",o=r.getMinutes()+"";return`${m.padStart(2,"0")}\u6708${h.padStart(2,"0")}\u65E5,${i.padStart(2,"0")}:${o.padStart(2,"0")}`},addTask(){if(this.sked==="")alert("\u4EFB\u52A1\u4E0D\u80FD\u4E3A\u7A7A");else{let e={task:this.sked,times:+new Date,done:!0};this.arr.push(e),this.sked="",localStorage.setItem("todolist",JSON.stringify(this.arr))}},del(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.arr[e].times=+new Date,this.arr[e].done=!this.arr[e].done,localStorage.setItem("todolist",JSON.stringify(this.arr))},200)},debDel(e){this.arr.splice(e,1),localStorage.setItem("todolist",JSON.stringify(this.arr)),clearTimeout(this.timeout)}}},c=e=>(w("data-v-284c5b06"),e=e(),y(),e),T={id:"app"},D=c(()=>t("h4",null,[b("ToDoList "),t("span",null,"\u5355\u51FB\u4FEE\u6539\u72B6\u6001\uFF0C\u53CC\u51FB\u5220\u9664")],-1)),z={class:"add-list"},I=b(),N=["onClick","onDblclick"],F={key:0},L=c(()=>t("button",{class:"danger"},"\u672A\u5B8C\u6210",-1)),J={class:"times-danger"},M={key:1},O=c(()=>t("button",{class:"success"},"\u5DF2\u5B8C\u6210",-1)),B={class:"times-success"};function C(e,r,m,h,i,o){return s(),d("div",T,[D,t("div",z,[f(t("input",{type:"text","onUpdate:modelValue":r[0]||(r[0]=a=>i.sked=a),onKeydown:r[1]||(r[1]=v((...a)=>o.addTask&&o.addTask(...a),["enter"]))},null,544),[[p,i.sked]]),I,t("button",{onClick:r[2]||(r[2]=(...a)=>o.addTask&&o.addTask(...a))},"\u6DFB\u52A0\u4EFB\u52A1")]),t("ul",null,[(s(!0),d(_,null,k(i.arr,(a,n)=>(s(),d("li",{key:n,onClick:g=>o.del(n),onDblclick:x(g=>o.debDel(n),["prevent"])},[a.done?(s(),d("div",F,[t("span",null,l(a.task),1),L,t("span",J,l(o.timeFormat(a.times)),1)])):(s(),d("div",M,[t("span",null,[t("del",null,l(a.task),1)]),O,t("span",B,l(o.timeFormat(a.times)),1)]))],40,N))),128))])])}var V=u(S,[["render",C],["__scopeId","data-v-284c5b06"],["__file","TodoList.vue"]]);export{V as default};
