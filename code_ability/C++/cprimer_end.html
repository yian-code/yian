<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.46">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <meta name="YiAn的个人博客网站" content="易安,易安的个人博客,前端,图像视觉,ROS"><title>C++ Primer Plus(6-~) | YiAn</title><meta name="description" content="Blog of Yi An">
    <link rel="modulepreload" href="/yian/assets/app.08bd6425.js"><link rel="modulepreload" href="/yian/assets/cprimer_end.html.0c9ee22e.js"><link rel="modulepreload" href="/yian/assets/cprimer_end.html.6b66c922.js"><link rel="prefetch" href="/yian/assets/index.html.83add864.js"><link rel="prefetch" href="/yian/assets/index.html.655c6637.js"><link rel="prefetch" href="/yian/assets/note.html.004c435b.js"><link rel="prefetch" href="/yian/assets/ros.html.b5466551.js"><link rel="prefetch" href="/yian/assets/Git.html.f65b3ede.js"><link rel="prefetch" href="/yian/assets/Markdown.html.68637163.js"><link rel="prefetch" href="/yian/assets/index.html.bf6e1d5b.js"><link rel="prefetch" href="/yian/assets/Webpack.html.04e02597.js"><link rel="prefetch" href="/yian/assets/npm.html.4c80690a.js"><link rel="prefetch" href="/yian/assets/vscode.html.b9c6592e.js"><link rel="prefetch" href="/yian/assets/vuepress.html.f6602891.js"><link rel="prefetch" href="/yian/assets/yarn.html.393ee0e8.js"><link rel="prefetch" href="/yian/assets/index.html.6d89ee95.js"><link rel="prefetch" href="/yian/assets/index.html.6e780006.js"><link rel="prefetch" href="/yian/assets/index.html.50747523.js"><link rel="prefetch" href="/yian/assets/note.html.5bc65220.js"><link rel="prefetch" href="/yian/assets/index.html.2e1af98f.js"><link rel="prefetch" href="/yian/assets/cprimer_begin.html.e55e3ba2.js"><link rel="prefetch" href="/yian/assets/note.html.f25f8e75.js"><link rel="prefetch" href="/yian/assets/index.html.04e24152.js"><link rel="prefetch" href="/yian/assets/linux2.html.f9f8da54.js"><link rel="prefetch" href="/yian/assets/index.html.44b5e3dc.js"><link rel="prefetch" href="/yian/assets/algorithm.html.0dbfc878.js"><link rel="prefetch" href="/yian/assets/index.html.b2b8feef.js"><link rel="prefetch" href="/yian/assets/bom.html.1cbf2ccc.js"><link rel="prefetch" href="/yian/assets/dom.html.24f7d1c0.js"><link rel="prefetch" href="/yian/assets/es6.html.85c08f48.js"><link rel="prefetch" href="/yian/assets/jquery.html.ea9367b6.js"><link rel="prefetch" href="/yian/assets/js_note.html.e4a7ee8c.js"><link rel="prefetch" href="/yian/assets/typescript.html.80684fa5.js"><link rel="prefetch" href="/yian/assets/index.html.89c48770.js"><link rel="prefetch" href="/yian/assets/node.html.58c9f21f.js"><link rel="prefetch" href="/yian/assets/index.html.c1005be9.js"><link rel="prefetch" href="/yian/assets/index.html.b002f521.js"><link rel="prefetch" href="/yian/assets/css.html.bc15ab1c.js"><link rel="prefetch" href="/yian/assets/html.html.8cb43218.js"><link rel="prefetch" href="/yian/assets/interview.html.e3b4e626.js"><link rel="prefetch" href="/yian/assets/index.html.c0dd24d6.js"><link rel="prefetch" href="/yian/assets/index.html.89181c82.js"><link rel="prefetch" href="/yian/assets/index.html.cfd366bc.js"><link rel="prefetch" href="/yian/assets/python.html.667e5ead.js"><link rel="prefetch" href="/yian/assets/index.html.ea8b029b.js"><link rel="prefetch" href="/yian/assets/opencv_note.html.1281b9ef.js"><link rel="prefetch" href="/yian/assets/404.html.f166316b.js"><link rel="prefetch" href="/yian/assets/index.html.de18d642.js"><link rel="prefetch" href="/yian/assets/index.html.9521fb43.js"><link rel="prefetch" href="/yian/assets/note.html.7cc81580.js"><link rel="prefetch" href="/yian/assets/ros.html.151ee016.js"><link rel="prefetch" href="/yian/assets/Git.html.c56ddc88.js"><link rel="prefetch" href="/yian/assets/Markdown.html.1b631b52.js"><link rel="prefetch" href="/yian/assets/index.html.ca453dc9.js"><link rel="prefetch" href="/yian/assets/Webpack.html.c0e5fa78.js"><link rel="prefetch" href="/yian/assets/npm.html.adcfb555.js"><link rel="prefetch" href="/yian/assets/vscode.html.ee8adb57.js"><link rel="prefetch" href="/yian/assets/vuepress.html.8feb117f.js"><link rel="prefetch" href="/yian/assets/yarn.html.b560a71e.js"><link rel="prefetch" href="/yian/assets/index.html.c56ff1e3.js"><link rel="prefetch" href="/yian/assets/index.html.9b402441.js"><link rel="prefetch" href="/yian/assets/index.html.146e852f.js"><link rel="prefetch" href="/yian/assets/note.html.8542eedd.js"><link rel="prefetch" href="/yian/assets/index.html.6d2aea7b.js"><link rel="prefetch" href="/yian/assets/cprimer_begin.html.3bd53eae.js"><link rel="prefetch" href="/yian/assets/note.html.ae330d68.js"><link rel="prefetch" href="/yian/assets/index.html.d3689c2a.js"><link rel="prefetch" href="/yian/assets/linux2.html.94c2cc57.js"><link rel="prefetch" href="/yian/assets/index.html.e6e76b3d.js"><link rel="prefetch" href="/yian/assets/algorithm.html.ed1eadf1.js"><link rel="prefetch" href="/yian/assets/index.html.3cc1e2b5.js"><link rel="prefetch" href="/yian/assets/bom.html.362118ae.js"><link rel="prefetch" href="/yian/assets/dom.html.3dfa52e1.js"><link rel="prefetch" href="/yian/assets/es6.html.9c769878.js"><link rel="prefetch" href="/yian/assets/jquery.html.c491bdd3.js"><link rel="prefetch" href="/yian/assets/js_note.html.f9546791.js"><link rel="prefetch" href="/yian/assets/typescript.html.309934f4.js"><link rel="prefetch" href="/yian/assets/index.html.fee69caa.js"><link rel="prefetch" href="/yian/assets/node.html.d6bfc141.js"><link rel="prefetch" href="/yian/assets/index.html.96c53fbf.js"><link rel="prefetch" href="/yian/assets/index.html.86fdea2a.js"><link rel="prefetch" href="/yian/assets/css.html.10a1489a.js"><link rel="prefetch" href="/yian/assets/html.html.e210f1d8.js"><link rel="prefetch" href="/yian/assets/interview.html.66d3fa6a.js"><link rel="prefetch" href="/yian/assets/index.html.94d0724f.js"><link rel="prefetch" href="/yian/assets/index.html.0f9fa756.js"><link rel="prefetch" href="/yian/assets/index.html.f08ad122.js"><link rel="prefetch" href="/yian/assets/python.html.58c5734c.js"><link rel="prefetch" href="/yian/assets/index.html.d7d606d1.js"><link rel="prefetch" href="/yian/assets/opencv_note.html.dd654ba9.js"><link rel="prefetch" href="/yian/assets/404.html.e0c11530.js"><link rel="prefetch" href="/yian/assets/404.82e5abd9.js"><link rel="prefetch" href="/yian/assets/Layout.445735e9.js"><link rel="prefetch" href="/yian/assets/HelloVuepress.b356d619.js">
    <link rel="stylesheet" href="/yian/assets/style.e5cac373.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/yian/" class=""><img class="logo" src="/yian/img/YiAn.png" alt="YiAn"><span class="site-name can-hide">YiAn</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/yian/navig/" class="" aria-label="导航"><!--[--><!--]--> 导航 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="前端开发"><span class="title">前端开发</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="前端开发"><span class="title">前端开发</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>基础入门</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/yian/front/base/" class="" aria-label="知识准备"><!--[--><!--]--> 知识准备 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/yian/front/JavaScript/" class="" aria-label="JavaScript"><!--[--><!--]--> JavaScript <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/yian/front/JavaScript/jquery.md" class="" aria-label="jQuery"><!--[--><!--]--> jQuery <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>前端框架</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/yian/front/vue/" class="" aria-label="Vue"><!--[--><!--]--> Vue <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/yian/front/react/" class="" aria-label="React"><!--[--><!--]--> React <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>小程序</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/yian/front/resource/" class="" aria-label="uni-app"><!--[--><!--]--> uni-app <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="后端开发"><span class="title">后端开发</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="后端开发"><span class="title">后端开发</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/yian/front/backend/README.md" class="" aria-label="MongoDB"><!--[--><!--]--> MongoDB <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/yian/front/backend/node.md" class="" aria-label="Node.js"><!--[--><!--]--> Node.js <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="图像处理"><span class="title">图像处理</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="图像处理"><span class="title">图像处理</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>基础能力</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/yian/code_ability/Linux/" class="" aria-label="Linux"><!--[--><!--]--> Linux <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/yian/code_ability/C++/" class="router-link-active" aria-label="C++"><!--[--><!--]--> C++ <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/yian/algorithm/" class="" aria-label="算法"><!--[--><!--]--> 算法 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>图像</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/yian/image_processing/opencv/" class="" aria-label="OpenCV"><!--[--><!--]--> OpenCV <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/yian/unity/" class="" aria-label="Unity"><!--[--><!--]--> Unity <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/yian/image_processing/machine_learning/" class="" aria-label="机器学习"><!--[--><!--]--> 机器学习 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><a href="/yian/Robot/" class="" aria-label="无人机"><!--[--><!--]--> 无人机 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/yian/Tool/" class="" aria-label="工具"><!--[--><!--]--> 工具 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/yian/about/" class="" aria-label="关于"><!--[--><!--]--> 关于 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="仓库"><span class="title">仓库</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="仓库"><span class="title">仓库</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://gitee.com/yian0728" rel="noopener noreferrer" target="_blank" aria-label="Gitee"><!--[--><!--]--> Gitee <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/yian0728" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="Search" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/yian/navig/" class="" aria-label="导航"><!--[--><!--]--> 导航 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="前端开发"><span class="title">前端开发</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="前端开发"><span class="title">前端开发</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>基础入门</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/yian/front/base/" class="" aria-label="知识准备"><!--[--><!--]--> 知识准备 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/yian/front/JavaScript/" class="" aria-label="JavaScript"><!--[--><!--]--> JavaScript <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/yian/front/JavaScript/jquery.md" class="" aria-label="jQuery"><!--[--><!--]--> jQuery <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>前端框架</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/yian/front/vue/" class="" aria-label="Vue"><!--[--><!--]--> Vue <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/yian/front/react/" class="" aria-label="React"><!--[--><!--]--> React <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>小程序</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/yian/front/resource/" class="" aria-label="uni-app"><!--[--><!--]--> uni-app <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="后端开发"><span class="title">后端开发</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="后端开发"><span class="title">后端开发</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/yian/front/backend/README.md" class="" aria-label="MongoDB"><!--[--><!--]--> MongoDB <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/yian/front/backend/node.md" class="" aria-label="Node.js"><!--[--><!--]--> Node.js <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="图像处理"><span class="title">图像处理</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="图像处理"><span class="title">图像处理</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>基础能力</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/yian/code_ability/Linux/" class="" aria-label="Linux"><!--[--><!--]--> Linux <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/yian/code_ability/C++/" class="router-link-active" aria-label="C++"><!--[--><!--]--> C++ <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/yian/algorithm/" class="" aria-label="算法"><!--[--><!--]--> 算法 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>图像</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/yian/image_processing/opencv/" class="" aria-label="OpenCV"><!--[--><!--]--> OpenCV <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/yian/unity/" class="" aria-label="Unity"><!--[--><!--]--> Unity <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/yian/image_processing/machine_learning/" class="" aria-label="机器学习"><!--[--><!--]--> 机器学习 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><a href="/yian/Robot/" class="" aria-label="无人机"><!--[--><!--]--> 无人机 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/yian/Tool/" class="" aria-label="工具"><!--[--><!--]--> 工具 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/yian/about/" class="" aria-label="关于"><!--[--><!--]--> 关于 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="仓库"><span class="title">仓库</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="仓库"><span class="title">仓库</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://gitee.com/yian0728" rel="noopener noreferrer" target="_blank" aria-label="Gitee"><!--[--><!--]--> Gitee <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/yian0728" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a href="/yian/code_ability/C++/" class="router-link-active sidebar-item sidebar-heading" aria-label="C++初识"><!--[--><!--]--> C++初识 <!--[--><!--]--></a><!----></li><li><a href="/yian/code_ability/C++/cprimer_begin.html" class="sidebar-item sidebar-heading" aria-label="C++ Primer Plus(1-6)"><!--[--><!--]--> C++ Primer Plus(1-6) <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/yian/code_ability/C++/cprimer_end.html" class="router-link-active router-link-exact-active router-link-active sidebar-item sidebar-heading active" aria-label="C++ Primer Plus(6-~)"><!--[--><!--]--> C++ Primer Plus(6-~) <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/yian/code_ability/C++/cprimer_end.html#函数" class="router-link-active router-link-exact-active sidebar-item" aria-label="函数"><!--[--><!--]--> 函数 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/yian/code_ability/C++/cprimer_end.html#函数基本知识" class="router-link-active router-link-exact-active sidebar-item" aria-label="函数基本知识"><!--[--><!--]--> 函数基本知识 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/yian/code_ability/C++/cprimer_end.html#函数和数组" class="router-link-active router-link-exact-active sidebar-item" aria-label="函数和数组"><!--[--><!--]--> 函数和数组 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/yian/code_ability/C++/cprimer_end.html#函数和c-风格字符串" class="router-link-active router-link-exact-active sidebar-item" aria-label="函数和C-风格字符串"><!--[--><!--]--> 函数和C-风格字符串 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/yian/code_ability/C++/cprimer_end.html#函数和结构" class="router-link-active router-link-exact-active sidebar-item" aria-label="函数和结构"><!--[--><!--]--> 函数和结构 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/yian/code_ability/C++/cprimer_end.html#函数和string对象" class="router-link-active router-link-exact-active sidebar-item" aria-label="函数和string对象"><!--[--><!--]--> 函数和string对象 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/yian/code_ability/C++/cprimer_end.html#函数和array对象" class="router-link-active router-link-exact-active sidebar-item" aria-label="函数和array对象"><!--[--><!--]--> 函数和array对象 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/yian/code_ability/C++/cprimer_end.html#递归" class="router-link-active router-link-exact-active sidebar-item" aria-label="递归"><!--[--><!--]--> 递归 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/yian/code_ability/C++/cprimer_end.html#函数指针" class="router-link-active router-link-exact-active sidebar-item" aria-label="函数指针"><!--[--><!--]--> 函数指针 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/yian/code_ability/C++/cprimer_end.html#深入探讨函数指针没看" class="router-link-active router-link-exact-active sidebar-item" aria-label="深入探讨函数指针没看"><!--[--><!--]--> 深入探讨函数指针没看 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/yian/code_ability/C++/cprimer_end.html#内存模型和名称空间" class="router-link-active router-link-exact-active sidebar-item" aria-label="内存模型和名称空间"><!--[--><!--]--> 内存模型和名称空间 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/yian/code_ability/C++/cprimer_end.html#对象和类" class="router-link-active router-link-exact-active sidebar-item" aria-label="对象和类"><!--[--><!--]--> 对象和类 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/yian/code_ability/C++/cprimer_end.html#抽象和类" class="router-link-active router-link-exact-active sidebar-item" aria-label="抽象和类"><!--[--><!--]--> 抽象和类 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/yian/code_ability/C++/cprimer_end.html#类的构造函数和析构函数" class="router-link-active router-link-exact-active sidebar-item" aria-label="类的构造函数和析构函数"><!--[--><!--]--> 类的构造函数和析构函数 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/yian/code_ability/C++/cprimer_end.html#this指针" class="router-link-active router-link-exact-active sidebar-item" aria-label="this指针"><!--[--><!--]--> this指针 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/yian/code_ability/C++/cprimer_end.html#对象数组" class="router-link-active router-link-exact-active sidebar-item" aria-label="对象数组"><!--[--><!--]--> 对象数组 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a href="/yian/code_ability/C++/note.html" class="sidebar-item sidebar-heading" aria-label="C++杂记"><!--[--><!--]--> C++杂记 <!--[--><!--]--></a><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h2 id="函数" tabindex="-1"><a class="header-anchor" href="#函数" aria-hidden="true">#</a> 函数</h2><h3 id="函数基本知识" tabindex="-1"><a class="header-anchor" href="#函数基本知识" aria-hidden="true">#</a> 函数基本知识</h3><h4 id="函数返回值" tabindex="-1"><a class="header-anchor" href="#函数返回值" aria-hidden="true">#</a> 函数返回值</h4><p>C++返回值类型有一定的限制,<strong>不能是数组</strong>,但是可以是其他任何类型--整型、浮点数、指针、<strong>结构、对象</strong>(c++不能直接返回数组,但是可以将数组作为结构或者对象组成部分来返回)</p><h4 id="函数原型" tabindex="-1"><a class="header-anchor" href="#函数原型" aria-hidden="true">#</a> 函数原型</h4><ol><li>函数原型:描述了函数到编译器的接口,将函数返回值的类型(如果有的话)以及参数的类型和数量告诉编译器</li><li>原型语法:函数原型是一条语句,必须以分号结束,最简单的方法就是复制函数头,</li><li>原型功能:确保编译器正确处理函数返回值、编译器检查使用的参数目录是否正确、编译器检查使用参数类型是否正确,不正确则转换为正确的类型(如果可能的话)</li></ol><div class="custom-container tip"><p class="custom-container-title">通常在原型参数列表中可以包含变量名,也可以不包含.原型中的变量名相当于占位符,因此不必与函数定义中的变量名相同</p></div><h3 id="函数和数组" tabindex="-1"><a class="header-anchor" href="#函数和数组" aria-hidden="true">#</a> 函数和数组</h3><p>cookies是数组名,前面介绍过,C++将数组名解释为其第一个元素的地址:</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>cookies <span class="token operator">==</span> <span class="token operator">&amp;</span>cookies<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>当我们定义函数<code>int sum = sum_arr(int arr[], int n)</code>时候真正的函数头应该是这样的:</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">int</span> sum <span class="token operator">=</span> <span class="token function">sum_arr</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>将数组作为函数的参数意味着:程序实际并没有将数组内容传递给函数,而是将数组的地址,包含元素种类和元素数目提供给函数</p><div class="code-group"><div class="code-group__nav"><ul class="code-group__ul"><li class="code-group__li"><button class="code-group__nav-tab code-group__nav-tab-active" ariapressed="true" ariaexpanded="true">程序</button></li><li class="code-group__li"><button class="code-group__nav-tab" ariapressed="false" ariaexpanded="false">运行结果</button></li></ul></div><!--[--><div class="code-group-item" aria-selected="false"><!--[--><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">const</span> <span class="token keyword">int</span> ArSize <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">sum_arr</span><span class="token punctuation">(</span><span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> cookies<span class="token punctuation">[</span>ArSize<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">,</span> <span class="token number">128</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    std<span class="token operator">::</span>cout <span class="token operator">&lt;&lt;</span> cookies <span class="token operator">&lt;&lt;</span> <span class="token string">&quot; = array address, &quot;</span><span class="token punctuation">;</span>
    std<span class="token operator">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token keyword">sizeof</span> cookies <span class="token operator">&lt;&lt;</span> <span class="token string">&quot; = sizeof cookies\n&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> sum <span class="token operator">=</span> <span class="token function">sum_arr</span><span class="token punctuation">(</span>cookies<span class="token punctuation">,</span> ArSize<span class="token punctuation">)</span><span class="token punctuation">;</span>
    std<span class="token operator">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Total cookies eaten: &quot;</span> <span class="token operator">&lt;&lt;</span> sum <span class="token operator">&lt;&lt;</span> std<span class="token operator">::</span>endl<span class="token punctuation">;</span>
    <span class="token comment">// 前面三个元素的和,提供了一个假的元素个数</span>
    sum <span class="token operator">=</span> <span class="token function">sum_arr</span><span class="token punctuation">(</span>cookies<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    std<span class="token operator">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;First three eaters ate &quot;</span> <span class="token operator">&lt;&lt;</span> sum <span class="token operator">&lt;&lt;</span><span class="token string">&quot;cookies\n&quot;</span><span class="token punctuation">;</span> 
    <span class="token comment">//后面四个元素的和,提供了一个假的起始位和假的元素个数    </span>
    <span class="token comment">// sum = sum_arr(cookies + 4, 4);</span>
    sum <span class="token operator">=</span> <span class="token function">sum_arr</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>cookies<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//与上一句含义相同</span>
    std<span class="token operator">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Last four eaters ate&quot;</span> <span class="token operator">&lt;&lt;</span> sum <span class="token operator">&lt;&lt;</span> <span class="token string">&quot; cookies\n&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">sum_arr</span><span class="token punctuation">(</span><span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> total <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    std<span class="token operator">::</span>cout <span class="token operator">&lt;&lt;</span> arr <span class="token operator">&lt;&lt;</span> <span class="token string">&quot; = arr&quot;</span><span class="token punctuation">;</span>
    std<span class="token operator">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token keyword">sizeof</span> arr <span class="token operator">&lt;&lt;</span> <span class="token string">&quot; = sizeof arr\n&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span>n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        total <span class="token operator">=</span> total <span class="token operator">+</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> total<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlight-line"> </div><div class="highlight-line"> </div><br><br><br><br><br><br><br><br><br><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="code-group-item" aria-selected="false"><!--[--><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">/*
0x7fffffffdc20 = array address, 32 = sizeof cookies
0x7fffffffdc20 = arr8 = sizeof arr
Total cookies eaten: 255
0x7fffffffdc20 = arr8 = sizeof arr
First three eaters ate 7 cookies
0x7fffffffdc30 = arr8 = sizeof arr
Last four eaters ate240 cookies
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><!--]--></div><div class="custom-container tip"><p class="custom-container-title">注意使用**const**保护数组,防止数组被修改,需要修改时则不加const</p><p><code>void array(const double arr[], int n)</code></p></div><h4 id="函数和二维数组" tabindex="-1"><a class="header-anchor" href="#函数和二维数组" aria-hidden="true">#</a> 函数和二维数组</h4><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">int</span> data<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> total <span class="token operator">=</span> <span class="token function">sum</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>以二维数组作为参数的函数原型</strong></p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">int</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token punctuation">(</span><span class="token operator">*</span>arr<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>可读性更好的定义如下:</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">int</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="函数和c-风格字符串" tabindex="-1"><a class="header-anchor" href="#函数和c-风格字符串" aria-hidden="true">#</a> 函数和C-风格字符串</h3><p><strong>假设要将字符串作为参数传递给函数,则表示字符串的方式如下</strong>:</p><ul><li>char数组<code>char gost[15] = &quot;galloping&quot;</code></li><li>用引号括起来的字符串常量 <code>char * str = &quot;galloping&quot;</code></li><li>被设置为字符串的地址的char指针<br> 上述三种类型都是char指针(准确是char*),下面使用指针对char类型进行遍历</li></ul><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    using std<span class="token operator">::</span>cout<span class="token punctuation">;</span>
    using std<span class="token operator">::</span>endl<span class="token punctuation">;</span>
    <span class="token comment">// 直接用指针指向字符串,这样才能修改指向字符串指针的值</span>
    <span class="token keyword">char</span> <span class="token operator">*</span>ch <span class="token operator">=</span> <span class="token string">&quot;mmmuuullllnnn&quot;</span><span class="token punctuation">;</span>
    <span class="token comment">// char ch[14] = &quot;mmmuuullllnnn&quot;;  这样*ch不可修改</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>ch <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> ch <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">*</span>ch<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>ch <span class="token operator">&lt;&lt;</span> <span class="token char">&#39;-&#39;</span><span class="token punctuation">;</span>
        <span class="token operator">*</span>ch<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="highlight-lines"><br><br><br><br><br><br><div class="highlight-line"> </div><br><br><br><br><br><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>返回C-风格字符串的函数</strong></p><div class="custom-container danger"><p class="custom-container-title">函数无法返回字符串,但是可以返回字符串的地址,这样做效率更高</p></div><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">char</span> <span class="token operator">*</span> <span class="token function">buildstr</span><span class="token punctuation">(</span><span class="token keyword">char</span> c<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    using namespace std<span class="token punctuation">;</span>
    <span class="token keyword">int</span> times<span class="token punctuation">;</span>
    <span class="token keyword">char</span> ch<span class="token punctuation">;</span>

    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Enter a character: &quot;</span><span class="token punctuation">;</span>
    cin <span class="token operator">&gt;&gt;</span> ch<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Enter an integer: &quot;</span><span class="token punctuation">;</span>
    cin <span class="token operator">&gt;&gt;</span> times<span class="token punctuation">;</span>
    <span class="token keyword">char</span> <span class="token operator">*</span>ps <span class="token operator">=</span> <span class="token function">buildstr</span><span class="token punctuation">(</span>ch<span class="token punctuation">,</span> times<span class="token punctuation">)</span><span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> ps <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    delete <span class="token punctuation">[</span><span class="token punctuation">]</span> ps<span class="token punctuation">;</span>
    ps <span class="token operator">=</span> <span class="token function">buildstr</span><span class="token punctuation">(</span><span class="token char">&#39;+&#39;</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> ps <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;-DONE-&quot;</span> <span class="token operator">&lt;&lt;</span> ps <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    delete <span class="token punctuation">[</span><span class="token punctuation">]</span> ps<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">char</span> <span class="token operator">*</span> <span class="token function">buildstr</span><span class="token punctuation">(</span><span class="token keyword">char</span> c<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">char</span> <span class="token operator">*</span> pstr <span class="token operator">=</span> new <span class="token keyword">char</span><span class="token punctuation">[</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">//从后向前填充,避免了使用额外的变量</span>
    <span class="token comment">// int i = 0;</span>
    <span class="token comment">// while (i &lt; n)</span>
    <span class="token comment">// {</span>
    <span class="token comment">//     pstr[i++] = c;/* code */</span>
    <span class="token comment">// } </span>
    pstr<span class="token punctuation">[</span>n<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token char">&#39;\0&#39;</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>n<span class="token operator">--</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
        pstr<span class="token punctuation">[</span>n<span class="token punctuation">]</span> <span class="token operator">=</span> c<span class="token punctuation">;</span>
    <span class="token keyword">return</span> pstr<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/*
Enter a character: V
Enter an integer: 46
VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV
++++++++++++++++++++-DONE-++++++++++++++++++++
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="函数和结构" tabindex="-1"><a class="header-anchor" href="#函数和结构" aria-hidden="true">#</a> 函数和结构</h3><p>函数可以返回结构,<strong>结构名只是结构的名称,要获取结构的地址必须使用地址运算符&amp;</strong>,使用结构时将结构作为参数传递,并在需要的时候将结构作为返回值</p><div class="custom-container warning"><p class="custom-container-title">按值传递结构如果结构非常大,复制结构会增加内存要求,降低运行速度,所以倾向于传递结构的地址</p></div><p><strong>传递和返回结构</strong></p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">struct</span> <span class="token class-name">travel_time</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> hours<span class="token punctuation">;</span>
    <span class="token keyword">int</span> mins<span class="token punctuation">;</span>
    <span class="token comment">/* data */</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
travel_time <span class="token function">sum</span><span class="token punctuation">(</span>travel_time t1<span class="token punctuation">,</span> travel_time t2<span class="token punctuation">)</span><span class="token punctuation">;</span>

travel_time <span class="token function">sum</span><span class="token punctuation">(</span>travel_time t1<span class="token punctuation">,</span> travel_time t2<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    travel_time total<span class="token punctuation">;</span>
    total<span class="token punctuation">.</span>mins <span class="token operator">=</span> <span class="token punctuation">(</span>t1<span class="token punctuation">.</span>mins <span class="token operator">+</span> t2<span class="token punctuation">.</span>mins<span class="token punctuation">)</span> <span class="token operator">%</span> Mins_per_hr<span class="token punctuation">;</span>
    total<span class="token punctuation">.</span>hours <span class="token operator">=</span> t1<span class="token punctuation">.</span>hours <span class="token operator">+</span> t2<span class="token punctuation">.</span>hours <span class="token operator">+</span> 
                    <span class="token punctuation">(</span>t1<span class="token punctuation">.</span>mins <span class="token operator">+</span> t2<span class="token punctuation">.</span>mins<span class="token punctuation">)</span> <span class="token operator">/</span> Mins_per_hr<span class="token punctuation">;</span>
    <span class="token keyword">return</span> total<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>另一个处理结构的函数示例</strong></p><ol><li>直角坐标</li></ol><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">struct</span> <span class="token class-name">rect</span>
<span class="token punctuation">{</span>
    <span class="token keyword">double</span> x<span class="token punctuation">;</span>
    <span class="token keyword">double</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>极坐标</li></ol><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">struct</span> <span class="token class-name">polar</span>
<span class="token punctuation">{</span>
    <span class="token keyword">double</span> distance<span class="token punctuation">;</span>
    <span class="token keyword">double</span> angle<span class="token punctuation">;</span> <span class="token comment">//    乘以180/pi转化为角度</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="函数和string对象" tabindex="-1"><a class="header-anchor" href="#函数和string对象" aria-hidden="true">#</a> 函数和string对象</h3><div class="code-group"><div class="code-group__nav"><ul class="code-group__ul"><li class="code-group__li"><button class="code-group__nav-tab code-group__nav-tab-active" ariapressed="true" ariaexpanded="true">程序</button></li><li class="code-group__li"><button class="code-group__nav-tab" ariapressed="false" ariaexpanded="false">运行结果</button></li></ul></div><!--[--><div class="code-group-item" aria-selected="false"><!--[--><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span></span>
using namespace std<span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token keyword">int</span> SIZE <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">display</span><span class="token punctuation">(</span><span class="token keyword">const</span> string sa<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    string list<span class="token punctuation">[</span>SIZE<span class="token punctuation">]</span><span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Enter your &quot;</span> <span class="token operator">&lt;&lt;</span> SIZE <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;favorite astronomical sights:\n&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> SIZE<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> i <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;: &quot;</span><span class="token punctuation">;</span>
        <span class="token function">getline</span><span class="token punctuation">(</span>cin<span class="token punctuation">,</span>list<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Your list:\n&quot;</span><span class="token punctuation">;</span>
    <span class="token function">display</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span>SIZE<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">display</span><span class="token punctuation">(</span><span class="token keyword">const</span> string sa<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
        cout <span class="token operator">&lt;&lt;</span> i <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;: &quot;</span> <span class="token operator">&lt;&lt;</span>sa<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="code-group-item" aria-selected="false"><!--[--><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">/*
Enter your 5favorite astronomical sights:
1: origin
2: m13
3: saturn
4: jup
5: moon
Your list:
1: origin
2: m13
3: saturn
4: jup
5: moon
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><!--]--></div><h3 id="函数和array对象" tabindex="-1"><a class="header-anchor" href="#函数和array对象" aria-hidden="true">#</a> 函数和array对象</h3><p>不会用</p><h3 id="递归" tabindex="-1"><a class="header-anchor" href="#递归" aria-hidden="true">#</a> 递归</h3><p><strong>递归:函数自己调用自己</strong>,使用断点调试可以轻松看出递归运行的流程</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">void</span> <span class="token function">recurs</span><span class="token punctuation">(</span>argumentlist<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    statements1
    <span class="token keyword">if</span> <span class="token punctuation">(</span>test<span class="token punctuation">)</span>
        <span class="token function">recurs</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span>
    statements2
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>有趣的是:if为true时,每个recurs()调用都将执行statements1,然后再调用recurs(),而不会执行statements2,当if为false时,当前调用会执行statements2,执行后程序控制权将返回给调用它的recurs(),以此类推.<strong>则当statements1执行完后,statements2将以函数调用相反的顺序执行</strong>,以下程序演示了这种行为</p><div class="code-group"><div class="code-group__nav"><ul class="code-group__ul"><li class="code-group__li"><button class="code-group__nav-tab code-group__nav-tab-active" ariapressed="true" ariaexpanded="true">程序</button></li><li class="code-group__li"><button class="code-group__nav-tab" ariapressed="false" ariaexpanded="false">运行结果</button></li></ul></div><!--[--><div class="code-group-item" aria-selected="false"><!--[--><div class="language-c++ ext-c++ line-numbers-mode"><pre class="language-c++"><code>#include &lt;iostream&gt;
void countdown(int n);
int main()
{
    countdown(4);
    return 0;
}
void countdown(int n)
{
    using namespace std;
    cout &lt;&lt; &quot;Counting down ... &quot; &lt;&lt; n &lt;&lt; endl;
    if (n &gt; 0)
        countdown(n-1);
    cout &lt;&lt; n &lt;&lt; &quot;: Kaboom!\n&quot;;
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="code-group-item" aria-selected="false"><!--[--><div class="language-c++ ext-c++ line-numbers-mode"><pre class="language-c++"><code>/*
Counting down ... 4
Counting down ... 3
Counting down ... 2
Counting down ... 1
Counting down ... 0
0: Kaboom!
1: Kaboom!
2: Kaboom!
3: Kaboom!
4: Kaboom!
*/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><!--]--></div><h3 id="函数指针" tabindex="-1"><a class="header-anchor" href="#函数指针" aria-hidden="true">#</a> 函数指针</h3><ul><li>获取函数的地址:函数名称则是函数地址</li></ul><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token function">think</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// thought调用think,并将think函数返回值传给thought函数</span>
<span class="token function">thought</span><span class="token punctuation">(</span><span class="token function">think</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> 
</code></pre><div class="highlight-lines"><br><div class="highlight-line"> </div><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>声明函数指针<br> 例如函数原型是<code>double pam(int)</code>则函数指针类型声明为:</li></ul><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">double</span> <span class="token punctuation">(</span><span class="token operator">*</span>pf<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 为了提供运算符优先级必须把*pf括起来</span>
pf <span class="token operator">=</span> pam<span class="token punctuation">;</span> <span class="token comment">// 将函数地址赋给函数指针</span>
</code></pre><div class="highlight-lines"><br><div class="highlight-line"> </div></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>使用函数指针调用函数</li></ul><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">double</span> x <span class="token operator">=</span> <span class="token function">pam</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">double</span> y <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>pf<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 使用函数指针调用函数</span>
</code></pre><div class="highlight-lines"><br><div class="highlight-line"> </div></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>案例</li></ul><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">double</span> <span class="token function">betsy</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">double</span> <span class="token function">pam</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">estimate</span><span class="token punctuation">(</span><span class="token keyword">int</span> lines<span class="token punctuation">,</span> <span class="token keyword">double</span> <span class="token punctuation">(</span><span class="token operator">*</span>pt<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    using namespace std<span class="token punctuation">;</span>
    <span class="token keyword">int</span> code<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;How many lines of code do you need:   &quot;</span><span class="token punctuation">;</span>
    cin <span class="token operator">&gt;&gt;</span> code<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Here&#39;s Betsy&#39;s estimate:   \n&quot;</span><span class="token punctuation">;</span>
    <span class="token function">estimate</span><span class="token punctuation">(</span>code<span class="token punctuation">,</span> betsy<span class="token punctuation">)</span><span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Here&#39;s pam&#39;s estimate:   \n&quot;</span><span class="token punctuation">;</span>
    <span class="token function">estimate</span><span class="token punctuation">(</span>code<span class="token punctuation">,</span> pam<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span> <span class="token punctuation">;</span>

<span class="token punctuation">}</span>
<span class="token keyword">double</span> <span class="token function">betsy</span><span class="token punctuation">(</span><span class="token keyword">int</span> lns<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">0.05</span> <span class="token operator">*</span> lns<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">double</span> <span class="token function">pam</span><span class="token punctuation">(</span><span class="token keyword">int</span> lns<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">0.03</span> <span class="token operator">*</span> lns <span class="token operator">+</span> <span class="token number">0.0004</span> <span class="token operator">*</span> lns <span class="token operator">*</span> lns<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">estimate</span><span class="token punctuation">(</span><span class="token keyword">int</span> lines<span class="token punctuation">,</span> <span class="token keyword">double</span> <span class="token punctuation">(</span><span class="token operator">*</span>pt<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    using namespace std<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> lines <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;  lines will take   &quot;</span><span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span><span class="token operator">*</span>pt<span class="token punctuation">)</span><span class="token punctuation">(</span>lines<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;  hour(s)  \n&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/*
How many lines of code do you need:   30
Here&#39;s Betsy&#39;s estimate:   
30  lines will take   1.5  hour(s)  
Here&#39;s pam&#39;s estimate:   
30  lines will take   1.26  hour(s) 
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="深入探讨函数指针没看" tabindex="-1"><a class="header-anchor" href="#深入探讨函数指针没看" aria-hidden="true">#</a> 深入探讨函数指针没看</h2><h2 id="内存模型和名称空间" tabindex="-1"><a class="header-anchor" href="#内存模型和名称空间" aria-hidden="true">#</a> 内存模型和名称空间</h2><h2 id="对象和类" tabindex="-1"><a class="header-anchor" href="#对象和类" aria-hidden="true">#</a> 对象和类</h2><div class="custom-container tip"><p class="custom-container-title">OOP</p><p>抽象、封装和数据隐藏、多态、继承、代码的可重用性</p></div><div class="custom-container warning"><p class="custom-container-title">类与结构唯一的区别是:结构的默认访问类型是public,而类为private</p></div><h3 id="抽象和类" tabindex="-1"><a class="header-anchor" href="#抽象和类" aria-hidden="true">#</a> 抽象和类</h3><ul><li><strong>实现类</strong><br> 类规范一般由两个部分组成-类声明、类定义.类声明是蓝图,方法定义提供细节</li></ul><ol><li><strong>类声明:以数据成员的方式描述数据部分,以成员函数(被称为方法)的方式描述公有接口</strong></li></ol><details class="custom-container details"><summary>stock00.h</summary><div class="language-c++ ext-c++ line-numbers-mode"><pre class="language-c++"><code>#ifndef STOCK00_H_
#define STOCK00_H_
#include &lt;string&gt;
class Stock
{
    //将数据封装到私有部分可以保护数据完整性,数据隐藏
    //只能通过公有成员访问,其实不必使用(数据隐藏),这是类对象的默认访问控制
    private:  
        std::string company;
        long shares;
        double share_val;
        double total_val;
        void set_tot() //内联函数,也可以写在外面
        {
            total_val = shares * share_val;
        } 
        //写在类外面了
        void set_tot_inline_test();
    public:    //公共接口的类成员函数
        //构造函数、析构函数声明
        //构造函数:构造并初始化对象
        Stock(const std::string &amp; co, long n = 0, double pr = 0.0);
        //析构函数:对象过期时调用,用来完成清理工作,析构函数没有参数
        ~Stock();
        //this指针
        const Stock &amp; topval(const Stock &amp; s) const;
        
        void acquire(const std::string &amp; co, long n, double pr);
        void buy(long num, double price);
        void sell(long num, double price);//类成员可以是数据类型也可以是函数
        void update(double price);
        void show();
};

//写在类外面的函数需要加上inline限定符(内联函数)
//一般不要直接写在.h文件中
//写到专门的类成员函数文件中
inline void Stock::set_tot_inline_test()   
{
        total_val = shares * share_val;
}

#endif
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><ol start="2"><li><strong>类方法定义:描述如何实现类成员函数</strong></li></ol><details class="custom-container details"><summary>stock00.cpp</summary><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&quot;stock00.h&quot;</span></span>
<span class="token comment">//使用作用域解析函数判断成员函数属于哪个类</span>
<span class="token keyword">void</span> Stock<span class="token operator">::</span><span class="token function">acquire</span><span class="token punctuation">(</span><span class="token keyword">const</span> std<span class="token operator">::</span>string <span class="token operator">&amp;</span> co<span class="token punctuation">,</span> <span class="token keyword">long</span> n<span class="token punctuation">,</span> <span class="token keyword">double</span> pr<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    company <span class="token operator">=</span> co<span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>n <span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        std<span class="token operator">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;number of shares can&#39;t be negtive&quot;</span>
                  <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;company &quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;shares set to 0.\n &quot;</span><span class="token punctuation">;</span>
        shares <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span>
        shares <span class="token operator">=</span> n<span class="token punctuation">;</span>
    share_val <span class="token operator">=</span> pr<span class="token punctuation">;</span>
    <span class="token function">set_tot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> Stock<span class="token operator">::</span><span class="token function">buy</span><span class="token punctuation">(</span><span class="token keyword">long</span> num<span class="token punctuation">,</span> <span class="token keyword">double</span> price<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        std<span class="token operator">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;number of shares purchased can&#39;t be negative&quot;</span>
                    <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;transaction id aborted.\n&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span>
    <span class="token punctuation">{</span>
        shares <span class="token operator">+=</span> num<span class="token punctuation">;</span>
        share_val <span class="token operator">=</span> price<span class="token punctuation">;</span>
        <span class="token function">set_tot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>   
<span class="token punctuation">}</span>
<span class="token keyword">void</span> Stock<span class="token operator">::</span><span class="token function">sell</span><span class="token punctuation">(</span><span class="token keyword">long</span> num<span class="token punctuation">,</span> <span class="token keyword">double</span> price<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    using std<span class="token operator">::</span>cout<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span><span class="token string">&quot;Number of shares sold can&#39;t be negative&quot;</span>
            <span class="token operator">&lt;&lt;</span> <span class="token string">&quot; Transaction is aborted.\n&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">&gt;</span> shares<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;You can&#39;t sell more than you have!&quot;</span>
                <span class="token operator">&lt;&lt;</span> <span class="token string">&quot; Transaction is aborted.\n&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span>
    <span class="token punctuation">{</span>
        shares <span class="token operator">-=</span>num<span class="token punctuation">;</span>
        share_val <span class="token operator">=</span> price<span class="token punctuation">;</span>
        <span class="token function">set_tot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>    
<span class="token punctuation">}</span>
<span class="token keyword">void</span> Stock<span class="token operator">::</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    std<span class="token operator">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Company: &quot;</span> <span class="token operator">&lt;&lt;</span> company
                <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Shares: &quot;</span> <span class="token operator">&lt;&lt;</span> shares <span class="token operator">&lt;&lt;</span> std<span class="token operator">::</span>endl
                <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Share Price:  $&quot;</span> <span class="token operator">&lt;&lt;</span> share_val
                <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Share Worth:   $&quot;</span> <span class="token operator">&lt;&lt;</span> total_val <span class="token operator">&lt;&lt;</span> <span class="token char">&#39;\n&#39;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> Stock<span class="token operator">::</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token keyword">double</span> price<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    share_val <span class="token operator">=</span> price<span class="token punctuation">;</span>
    <span class="token function">set_tot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//创建构造函数初始化Stock对象</span>
Stock<span class="token operator">::</span><span class="token function">Stock</span><span class="token punctuation">(</span><span class="token keyword">const</span> std<span class="token operator">::</span>string <span class="token operator">&amp;</span> co<span class="token punctuation">,</span> <span class="token keyword">long</span> n<span class="token punctuation">,</span> <span class="token keyword">double</span> pr<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    company <span class="token operator">=</span> co<span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>n <span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        std<span class="token operator">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;number of shares can&#39;t be negtive&quot;</span>
                  <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;company &quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;shares set to 0.\n &quot;</span><span class="token punctuation">;</span>
        shares <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span>
        shares <span class="token operator">=</span> n<span class="token punctuation">;</span>
    share_val <span class="token operator">=</span> pr<span class="token punctuation">;</span>
    <span class="token function">set_tot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//创建析构函数--析构函数不承担工作,所以可以不执行任何操作</span>
<span class="token comment">//通常不显式调用析构函数</span>
Stock<span class="token operator">::</span><span class="token operator">~</span><span class="token function">Stock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">//为了看清析构函数何时被调用</span>
    std<span class="token operator">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Bye, &quot;</span> <span class="token operator">&lt;&lt;</span> company <span class="token operator">&lt;&lt;</span> std<span class="token operator">::</span>endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//this指针:指向调用成员函数的对象</span>
<span class="token keyword">const</span> Stock <span class="token operator">&amp;</span> Stock<span class="token operator">::</span><span class="token function">topval</span><span class="token punctuation">(</span><span class="token keyword">const</span> Stock <span class="token operator">&amp;</span> s<span class="token punctuation">)</span> <span class="token keyword">const</span>
<span class="token punctuation">{</span>
    <span class="token comment">//这里面的total_val其实是 this-&gt;total_val</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">.</span>total_val <span class="token operator">&gt;</span> total_val<span class="token punctuation">)</span>
        <span class="token keyword">return</span> s<span class="token punctuation">;</span>
    <span class="token keyword">else</span>
        <span class="token keyword">return</span> <span class="token operator">*</span>this<span class="token punctuation">;</span>
        <span class="token comment">//test git </span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><ul><li><strong>使用类</strong><br> 将函数声明文件、类成员函数文件、主文件一起编译,生成可执行文件usestock00.exe</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>g++ -o usestock00.exe usestock00.cpp stock00.h stock00.cpp usestock00.cpp
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><details class="custom-container details"><summary>主文件usestock00.cpp</summary><div class="language-c++ ext-c++ line-numbers-mode"><pre class="language-c++"><code>#include &lt;iostream&gt;
#include &quot;stock00.h&quot;
int main()
{   //为类Stock创建一个名为fu的对象并使用构造函数Stock初始化类
    //对象可以调用方法但是不能调用构造函数,因为在构造函数构造出对象之前,对象是不存在的
    //因此构造函数被用来创建对象,而不能通过对象调用
    //显式调用构造函数
    Stock fu = Stock(&quot;Furry Mason&quot;, 50, 2.5);
    //隐式调用构造函数
    //Stock fu(&quot;Furry Mason&quot;, 50, 2.5);
    //将构造函数与new一起使用
    // Stock *pstock = new Stock(&quot;Furry Mason&quot;, 50, 2.5);
    //创建一个Stock对象并将初始化为参数提供的值,并将该对象赋值给pstock指针
    fu.acquire(&quot;NanoSmart&quot;, 20, 12.50);//使用类成员函数
    fu.show();
    fu.buy(15, 18.125);
    fu.show();
    fu.sell(400, 20.00);
    fu.show();
    fu.buy(300000, 40.125);
    fu.show();
    fu.sell(30000, 0.125);
    fu.show();
    return 0;
/*
Company: NanoSmartShares: 20
Share Price:  $12.5Share Worth:   $250
Company: NanoSmartShares: 35
Share Price:  $18.125Share Worth:   $634.375
You can&#39;t sell more than you have! Transaction is aborted.
Company: NanoSmartShares: 35
Share Price:  $18.125Share Worth:   $634.375
Company: NanoSmartShares: 300035
Share Price:  $40.125Share Worth:   $1.20389e+07
Company: NanoSmartShares: 270035
Share Price:  $0.125Share Worth:   $33754.4
Bye, NanoSmart
*/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><h3 id="类的构造函数和析构函数" tabindex="-1"><a class="header-anchor" href="#类的构造函数和析构函数" aria-hidden="true">#</a> 类的构造函数和析构函数</h3><p>为了在构造对象后自动初始化对象,C++提供了一个特殊的成员函数-<strong>类构造函数,专门用于构造新对象、将值赋给它们的数据成员</strong> 构造函数没有返回值,但没有被声明为void类型,实际上<strong>构造函数没有声明类型</strong></p><ol><li>声明和定义构造函数</li></ol><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">// 声明构造函数</span>
<span class="token function">Stock</span><span class="token punctuation">(</span><span class="token keyword">const</span> std<span class="token operator">::</span>string <span class="token operator">&amp;</span> co<span class="token punctuation">,</span> <span class="token keyword">long</span> n <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">double</span> pr <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 定义构造函数</span>
Stock<span class="token operator">::</span><span class="token function">Stock</span><span class="token punctuation">(</span><span class="token keyword">const</span> std<span class="token operator">::</span>string <span class="token operator">&amp;</span> co<span class="token punctuation">,</span> <span class="token keyword">long</span> n<span class="token punctuation">,</span> <span class="token keyword">double</span> pr<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    company <span class="token operator">=</span> co<span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>n <span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        std<span class="token operator">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;number of shares can&#39;t be negtive&quot;</span>
                  <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;company &quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;shares set to 0.\n &quot;</span><span class="token punctuation">;</span>
        shares <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span>
        shares <span class="token operator">=</span> n<span class="token punctuation">;</span>
    share_val <span class="token operator">=</span> pr<span class="token punctuation">;</span>
    <span class="token function">set_tot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container warning"><p class="custom-container-title">构造函数的参数表示不是类成员,而是赋给类成员的值,所以参数名不能与类成员相同</p></div><ol start="2"><li>使用构造函数<br> 对象可以调用方法但是不能调用构造函数,因为在构造函数构造出对象之前,对象是不存在的,因此<strong>构造函数被用来创建对象,而不能通过对象调用</strong></li></ol><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//显式调用构造函数</span>
Stock fu <span class="token operator">=</span> <span class="token function">Stock</span><span class="token punctuation">(</span><span class="token string">&quot;Furry Mason&quot;</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">2.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//隐式调用构造函数</span>
Stock <span class="token function">fu</span><span class="token punctuation">(</span><span class="token string">&quot;Furry Mason&quot;</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">2.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//将构造函数与new一起使用</span>
Stock <span class="token operator">*</span>pstock <span class="token operator">=</span> new <span class="token function">Stock</span><span class="token punctuation">(</span><span class="token string">&quot;Furry Mason&quot;</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">2.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/*创建一个Stock对象并将初始化为参数提供的值,并将该对象赋值给pstock指针,
对象没有名字但是可以用指针来管理*/</span>
</code></pre><div class="highlight-lines"><div class="highlight-line"> </div><br><div class="highlight-line"> </div><br><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>默认构造函数</li></ol><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>Stock<span class="token operator">::</span><span class="token function">Stock</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="4"><li>析构函数<br><strong>对象过期时,程序会自动调用析构函数完成清理工作</strong></li></ol><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//创建析构函数--析构函数不承担工作,所以可以不执行任何操作</span>
<span class="token comment">//通常不显式调用析构函数</span>
Stock<span class="token operator">::</span><span class="token operator">~</span><span class="token function">Stock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">//为了看清析构函数何时被调用</span>
    std<span class="token operator">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Bye, &quot;</span> <span class="token operator">&lt;&lt;</span> company <span class="token operator">&lt;&lt;</span> std<span class="token operator">::</span>endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">C++11中,可以将列表初始化语法用于类</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>Stock tip <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;NanoSmart&quot;</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">12.50</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></div><h3 id="this指针" tabindex="-1"><a class="header-anchor" href="#this指针" aria-hidden="true">#</a> this指针</h3><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//this指针声明</span>
<span class="token keyword">const</span> Stock <span class="token operator">&amp;</span> <span class="token function">topval</span><span class="token punctuation">(</span><span class="token keyword">const</span> Stock <span class="token operator">&amp;</span> s<span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>

<span class="token comment">//this指针:指向调用成员函数的对象</span>
<span class="token keyword">const</span> Stock <span class="token operator">&amp;</span> Stock<span class="token operator">::</span><span class="token function">topval</span><span class="token punctuation">(</span><span class="token keyword">const</span> Stock <span class="token operator">&amp;</span> s<span class="token punctuation">)</span> <span class="token keyword">const</span>
<span class="token punctuation">{</span>
<span class="token comment">//这里面的total_val其实是 this-&gt;total_val</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">.</span>total_val <span class="token operator">&gt;</span> total_val<span class="token punctuation">)</span>
        <span class="token keyword">return</span> s<span class="token punctuation">;</span>
    <span class="token keyword">else</span>
        <span class="token keyword">return</span> <span class="token operator">*</span>this<span class="token punctuation">;</span> <span class="token comment">//  *this 引用整个调用对象</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="对象数组" tabindex="-1"><a class="header-anchor" href="#对象数组" aria-hidden="true">#</a> 对象数组</h3><p>创建一个对象数组</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>Stock mystock<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></div><!--[--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">最近更新于: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">贡献者: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: yian0728@163.com">yian</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/yian/code_ability/C++/cprimer_begin.html" class="" aria-label="C++ Primer Plus(1-6)"><!--[--><!--]--> C++ Primer Plus(1-6) <!--[--><!--]--></a></span><span class="next"><a href="/yian/code_ability/C++/note.html" class="" aria-label="C++杂记"><!--[--><!--]--> C++杂记 <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/yian/assets/app.08bd6425.js" defer></script>
  </body>
</html>
