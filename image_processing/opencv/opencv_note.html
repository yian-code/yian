<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.48">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <title>OpenCV杂记 | YiAn</title><meta name="description" content="Blog of Yi An">
    <link rel="modulepreload" href="/yian/assets/app.72515998.js"><link rel="modulepreload" href="/yian/assets/opencv_note.html.6ee696b9.js"><link rel="modulepreload" href="/yian/assets/opencv_note.html.f7ee55a3.js"><link rel="prefetch" href="/yian/assets/index.html.036cff18.js"><link rel="prefetch" href="/yian/assets/index.html.519cae38.js"><link rel="prefetch" href="/yian/assets/note.html.d8e68149.js"><link rel="prefetch" href="/yian/assets/ros.html.8d19d76d.js"><link rel="prefetch" href="/yian/assets/Git.html.44f8d5d8.js"><link rel="prefetch" href="/yian/assets/Markdown.html.f1aaf195.js"><link rel="prefetch" href="/yian/assets/index.html.df12623f.js"><link rel="prefetch" href="/yian/assets/Webpack.html.333b736f.js"><link rel="prefetch" href="/yian/assets/npm.html.3e9dbcce.js"><link rel="prefetch" href="/yian/assets/vitepress.html.ef37565d.js"><link rel="prefetch" href="/yian/assets/vscode.html.a67e83f4.js"><link rel="prefetch" href="/yian/assets/vuepress.html.d30cf97d.js"><link rel="prefetch" href="/yian/assets/yarn.html.6a58d3dd.js"><link rel="prefetch" href="/yian/assets/index.html.9752746b.js"><link rel="prefetch" href="/yian/assets/index.html.a9365bd9.js"><link rel="prefetch" href="/yian/assets/index.html.f91ada00.js"><link rel="prefetch" href="/yian/assets/note.html.7bd31511.js"><link rel="prefetch" href="/yian/assets/index.html.db43dce6.js"><link rel="prefetch" href="/yian/assets/note.html.9a84b54b.js"><link rel="prefetch" href="/yian/assets/index.html.54a21ccc.js"><link rel="prefetch" href="/yian/assets/linux2.html.44d00d49.js"><link rel="prefetch" href="/yian/assets/index.html.346f0809.js"><link rel="prefetch" href="/yian/assets/algorithm.html.07cc937b.js"><link rel="prefetch" href="/yian/assets/index.html.7a6feb7c.js"><link rel="prefetch" href="/yian/assets/python.html.a79f64b1.js"><link rel="prefetch" href="/yian/assets/index.html.8d118024.js"><link rel="prefetch" href="/yian/assets/index.html.60aa7428.js"><link rel="prefetch" href="/yian/assets/bom.html.58874e4b.js"><link rel="prefetch" href="/yian/assets/dom.html.18816656.js"><link rel="prefetch" href="/yian/assets/es6.html.4d8fc7c6.js"><link rel="prefetch" href="/yian/assets/jquery.html.00b429ca.js"><link rel="prefetch" href="/yian/assets/js_note.html.3473fba6.js"><link rel="prefetch" href="/yian/assets/index.html.89ea20c4.js"><link rel="prefetch" href="/yian/assets/node.html.5ceec201.js"><link rel="prefetch" href="/yian/assets/index.html.95cd13ae.js"><link rel="prefetch" href="/yian/assets/css.html.c47b0e1c.js"><link rel="prefetch" href="/yian/assets/doit.html.14eaea2d.js"><link rel="prefetch" href="/yian/assets/html.html.87d52ce0.js"><link rel="prefetch" href="/yian/assets/interview.html.9ded74da.js"><link rel="prefetch" href="/yian/assets/language.html.1c01d9f2.js"><link rel="prefetch" href="/yian/assets/index.html.438351e8.js"><link rel="prefetch" href="/yian/assets/index.html.0df14d58.js"><link rel="prefetch" href="/yian/assets/index.html.e4f83980.js"><link rel="prefetch" href="/yian/assets/bug.html.412fd7fc.js"><link rel="prefetch" href="/yian/assets/404.html.7d858b3d.js"><link rel="prefetch" href="/yian/assets/index.html.65b14ae7.js"><link rel="prefetch" href="/yian/assets/index.html.b720d276.js"><link rel="prefetch" href="/yian/assets/note.html.1db525f4.js"><link rel="prefetch" href="/yian/assets/ros.html.3ca80a48.js"><link rel="prefetch" href="/yian/assets/Git.html.faaaca49.js"><link rel="prefetch" href="/yian/assets/Markdown.html.6272a5ab.js"><link rel="prefetch" href="/yian/assets/index.html.a014d4a0.js"><link rel="prefetch" href="/yian/assets/Webpack.html.32258f2f.js"><link rel="prefetch" href="/yian/assets/npm.html.b79cb18e.js"><link rel="prefetch" href="/yian/assets/vitepress.html.05419b44.js"><link rel="prefetch" href="/yian/assets/vscode.html.bfbedda2.js"><link rel="prefetch" href="/yian/assets/vuepress.html.4b141635.js"><link rel="prefetch" href="/yian/assets/yarn.html.14eaf69e.js"><link rel="prefetch" href="/yian/assets/index.html.d671e92d.js"><link rel="prefetch" href="/yian/assets/index.html.6fe18007.js"><link rel="prefetch" href="/yian/assets/index.html.79212534.js"><link rel="prefetch" href="/yian/assets/note.html.13a7dab8.js"><link rel="prefetch" href="/yian/assets/index.html.ef6995ed.js"><link rel="prefetch" href="/yian/assets/note.html.bfa07b61.js"><link rel="prefetch" href="/yian/assets/index.html.b73ba3a5.js"><link rel="prefetch" href="/yian/assets/linux2.html.0f23cdff.js"><link rel="prefetch" href="/yian/assets/index.html.52047b03.js"><link rel="prefetch" href="/yian/assets/algorithm.html.61b1ed3c.js"><link rel="prefetch" href="/yian/assets/index.html.fa987a45.js"><link rel="prefetch" href="/yian/assets/python.html.2879cfe3.js"><link rel="prefetch" href="/yian/assets/index.html.42a42f95.js"><link rel="prefetch" href="/yian/assets/index.html.977dba27.js"><link rel="prefetch" href="/yian/assets/bom.html.c7df3b74.js"><link rel="prefetch" href="/yian/assets/dom.html.41eda343.js"><link rel="prefetch" href="/yian/assets/es6.html.001a2618.js"><link rel="prefetch" href="/yian/assets/jquery.html.3a11a902.js"><link rel="prefetch" href="/yian/assets/js_note.html.bf2cb241.js"><link rel="prefetch" href="/yian/assets/index.html.aa963dbb.js"><link rel="prefetch" href="/yian/assets/node.html.48108ba4.js"><link rel="prefetch" href="/yian/assets/index.html.855aae37.js"><link rel="prefetch" href="/yian/assets/css.html.120de0a1.js"><link rel="prefetch" href="/yian/assets/doit.html.547c1f8f.js"><link rel="prefetch" href="/yian/assets/html.html.59dc026b.js"><link rel="prefetch" href="/yian/assets/interview.html.25390408.js"><link rel="prefetch" href="/yian/assets/language.html.7b22abca.js"><link rel="prefetch" href="/yian/assets/index.html.3d87983c.js"><link rel="prefetch" href="/yian/assets/index.html.6009fa98.js"><link rel="prefetch" href="/yian/assets/index.html.11c46021.js"><link rel="prefetch" href="/yian/assets/bug.html.462ef8ce.js"><link rel="prefetch" href="/yian/assets/404.html.ff1d1972.js"><link rel="prefetch" href="/yian/assets/404.2c4aac47.js"><link rel="prefetch" href="/yian/assets/Layout.9552546e.js"><link rel="prefetch" href="/yian/assets/TodoList.ae71247c.js"><link rel="prefetch" href="/yian/assets/LinkTo.977a9f3d.js">
    <link rel="stylesheet" href="/yian/assets/style.63c70298.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/yian/" class=""><!----><span class="site-name">YiAn</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/yian/navig/" class="" aria-label="导航"><!--[--><!--]--> 导航 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="前端开发"><span class="title">前端开发</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="前端开发"><span class="title">前端开发</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>基础入门</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/yian/front/base/" class="" aria-label="基础知识"><!--[--><!--]--> 基础知识 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/yian/front/JavaScript/" class="" aria-label="JavaScript"><!--[--><!--]--> JavaScript <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>前端框架</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/yian/front/vue/" class="" aria-label="Vue"><!--[--><!--]--> Vue <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/yian/front/react/" class="" aria-label="React"><!--[--><!--]--> React <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>后端基础</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/yian/front/backend/README.md" class="" aria-label="MongoDB"><!--[--><!--]--> MongoDB <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/yian/front/backend/node.md" class="" aria-label="Node.js"><!--[--><!--]--> Node.js <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>小程序</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/yian/front/resource/" class="" aria-label="uni-app"><!--[--><!--]--> uni-app <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="图像处理"><span class="title">图像处理</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="图像处理"><span class="title">图像处理</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>基础能力</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/yian/code_ability/Linux/" class="" aria-label="Linux"><!--[--><!--]--> Linux <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/yian/code_ability/C++/" class="" aria-label="C++"><!--[--><!--]--> C++ <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/yian/algorithm/" class="" aria-label="算法"><!--[--><!--]--> 算法 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>图像</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/yian/image_processing/opencv/" class="router-link-active" aria-label="OpenCV"><!--[--><!--]--> OpenCV <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/yian/unity/" class="" aria-label="Unity"><!--[--><!--]--> Unity <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/yian/image_processing/machine_learning/" class="" aria-label="机器学习"><!--[--><!--]--> 机器学习 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><a href="/yian/Robot/" class="" aria-label="无人机"><!--[--><!--]--> 无人机 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/yian/Tool/" class="" aria-label="工具"><!--[--><!--]--> 工具 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/yian/about/" class="" aria-label="关于"><!--[--><!--]--> 关于 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="仓库"><span class="title">仓库</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="仓库"><span class="title">仓库</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://gitee.com/yian0728" rel="noopener noreferrer" target="_blank" aria-label="Gitee"><!--[--><!--]--> Gitee <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/yian-code" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="Search" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/yian/navig/" class="" aria-label="导航"><!--[--><!--]--> 导航 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="前端开发"><span class="title">前端开发</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="前端开发"><span class="title">前端开发</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>基础入门</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/yian/front/base/" class="" aria-label="基础知识"><!--[--><!--]--> 基础知识 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/yian/front/JavaScript/" class="" aria-label="JavaScript"><!--[--><!--]--> JavaScript <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>前端框架</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/yian/front/vue/" class="" aria-label="Vue"><!--[--><!--]--> Vue <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/yian/front/react/" class="" aria-label="React"><!--[--><!--]--> React <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>后端基础</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/yian/front/backend/README.md" class="" aria-label="MongoDB"><!--[--><!--]--> MongoDB <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/yian/front/backend/node.md" class="" aria-label="Node.js"><!--[--><!--]--> Node.js <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>小程序</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/yian/front/resource/" class="" aria-label="uni-app"><!--[--><!--]--> uni-app <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="图像处理"><span class="title">图像处理</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="图像处理"><span class="title">图像处理</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>基础能力</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/yian/code_ability/Linux/" class="" aria-label="Linux"><!--[--><!--]--> Linux <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/yian/code_ability/C++/" class="" aria-label="C++"><!--[--><!--]--> C++ <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/yian/algorithm/" class="" aria-label="算法"><!--[--><!--]--> 算法 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>图像</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/yian/image_processing/opencv/" class="router-link-active" aria-label="OpenCV"><!--[--><!--]--> OpenCV <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/yian/unity/" class="" aria-label="Unity"><!--[--><!--]--> Unity <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/yian/image_processing/machine_learning/" class="" aria-label="机器学习"><!--[--><!--]--> 机器学习 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><a href="/yian/Robot/" class="" aria-label="无人机"><!--[--><!--]--> 无人机 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/yian/Tool/" class="" aria-label="工具"><!--[--><!--]--> 工具 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/yian/about/" class="" aria-label="关于"><!--[--><!--]--> 关于 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="仓库"><span class="title">仓库</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="仓库"><span class="title">仓库</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://gitee.com/yian0728" rel="noopener noreferrer" target="_blank" aria-label="Gitee"><!--[--><!--]--> Gitee <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/yian-code" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a href="/yian/image_processing/opencv/" class="router-link-active sidebar-item sidebar-heading" aria-label="图像处理基础"><!--[--><!--]--> 图像处理基础 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/yian/image_processing/opencv/opencv_note.html" class="router-link-active router-link-exact-active router-link-active sidebar-item sidebar-heading active" aria-label="OpenCV杂记"><!--[--><!--]--> OpenCV杂记 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/yian/image_processing/opencv/opencv_note.html#opencv视频流" class="router-link-active router-link-exact-active sidebar-item" aria-label="OpenCV视频流"><!--[--><!--]--> OpenCV视频流 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/yian/image_processing/opencv/opencv_note.html#videocapture类" class="router-link-active router-link-exact-active sidebar-item" aria-label="VideoCapture类"><!--[--><!--]--> VideoCapture类 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/yian/image_processing/opencv/opencv_note.html#videowriter类" class="router-link-active router-link-exact-active sidebar-item" aria-label="VideoWriter类"><!--[--><!--]--> VideoWriter类 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/yian/image_processing/opencv/opencv_note.html#视频播放" class="router-link-active router-link-exact-active sidebar-item" aria-label="视频播放"><!--[--><!--]--> 视频播放 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/yian/image_processing/opencv/opencv_note.html#图像二值化-c-opencv" class="router-link-active router-link-exact-active sidebar-item" aria-label="图像二值化(C++ OpenCV)"><!--[--><!--]--> 图像二值化(C++ OpenCV) <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/yian/image_processing/opencv/opencv_note.html#图像取反" class="router-link-active router-link-exact-active sidebar-item" aria-label="图像取反"><!--[--><!--]--> 图像取反 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/yian/image_processing/opencv/opencv_note.html#提取图像rio区域并画出矩形框" class="router-link-active router-link-exact-active sidebar-item" aria-label="提取图像RIO区域并画出矩形框"><!--[--><!--]--> 提取图像RIO区域并画出矩形框 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/yian/image_processing/opencv/opencv_note.html#rect-函数" class="router-link-active router-link-exact-active sidebar-item" aria-label="Rect()函数"><!--[--><!--]--> Rect()函数 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/yian/image_processing/opencv/opencv_note.html#rectangle" class="router-link-active router-link-exact-active sidebar-item" aria-label="rectangle()"><!--[--><!--]--> rectangle() <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/yian/image_processing/opencv/opencv_note.html#模板匹配函数matchtemplate" class="router-link-active router-link-exact-active sidebar-item" aria-label="模板匹配函数matchTemplate()"><!--[--><!--]--> 模板匹配函数matchTemplate() <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/yian/image_processing/opencv/opencv_note.html#opencv图像rows-cols" class="router-link-active router-link-exact-active sidebar-item" aria-label="OpenCV图像rows cols"><!--[--><!--]--> OpenCV图像rows cols <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/yian/image_processing/opencv/opencv_note.html#opencv提取rio区域并保存" class="router-link-active router-link-exact-active sidebar-item" aria-label="OpenCV提取RIO区域并保存"><!--[--><!--]--> OpenCV提取RIO区域并保存 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/yian/image_processing/opencv/opencv_note.html#图像阈值二值化函数threshold" class="router-link-active router-link-exact-active sidebar-item" aria-label="图像阈值二值化函数Threshold()"><!--[--><!--]--> 图像阈值二值化函数Threshold() <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/yian/image_processing/opencv/opencv_note.html#opencv图像增强-锐化-算法" class="router-link-active router-link-exact-active sidebar-item" aria-label="OpenCV图像增强(锐化)算法"><!--[--><!--]--> OpenCV图像增强(锐化)算法 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/yian/image_processing/opencv/opencv_note.html#基于直方图均匀化的图像增强" class="router-link-active router-link-exact-active sidebar-item" aria-label="基于直方图均匀化的图像增强"><!--[--><!--]--> 基于直方图均匀化的图像增强 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/yian/image_processing/opencv/opencv_note.html#laplace算子" class="router-link-active router-link-exact-active sidebar-item" aria-label="Laplace算子"><!--[--><!--]--> Laplace算子 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><div class="custom-container tip"><p class="custom-container-title">及时记笔记</p></div><h2 id="opencv视频流" tabindex="-1"><a class="header-anchor" href="#opencv视频流" aria-hidden="true">#</a> OpenCV视频流</h2><h3 id="videocapture类" tabindex="-1"><a class="header-anchor" href="#videocapture类" aria-hidden="true">#</a> VideoCapture类</h3><p>该类包括了从视频文件,图片集合,相机中读取视频</p><ul><li>摄像头读入:<code>VideoCapture cap(0);</code></li><li>文件读入: <code> VideoCapture cap(const String&amp; filename);</code> 用isOpened()来检测是否打开成功；</li></ul><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>cap<span class="token punctuation">.</span><span class="token function">isOpened</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>重载运算符&gt;&gt;用于从视频流取得一帧(一幅图)送入mat中:</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>Mat frame<span class="token punctuation">;</span>
cap <span class="token operator">&gt;&gt;</span> frame<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="videowriter类" tabindex="-1"><a class="header-anchor" href="#videowriter类" aria-hidden="true">#</a> VideoWriter类</h3><h5 id="用于将图片集合写成视频文件" tabindex="-1"><a class="header-anchor" href="#用于将图片集合写成视频文件" aria-hidden="true">#</a> 用于将图片集合写成视频文件</h5><p>构造函数如下:</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">int</span> fps<span class="token operator">=</span><span class="token number">15</span><span class="token punctuation">;</span>
Size <span class="token function">size</span><span class="token punctuation">(</span><span class="token number">480</span><span class="token punctuation">,</span><span class="token number">360</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
VideoWriter <span class="token function">vw</span><span class="token punctuation">(</span><span class="token string">&quot;E:\\图像处理\\a.avi&quot;</span><span class="token punctuation">,</span>CV_FOURCC_DEFAULT<span class="token punctuation">,</span>fps<span class="token punctuation">,</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol><li>参数文件名</li><li>参数编码格式,此处采用默认</li><li>帧数每秒多少图</li><li>视频尺寸</li><li>参数默认flag=true,代表写入彩色图 若设为false则为灰度图 写入函数例子: <code>vw.write(re_size3);</code></li></ol><h3 id="视频播放" tabindex="-1"><a class="header-anchor" href="#视频播放" aria-hidden="true">#</a> 视频播放</h3><p>就是一张一张图片呗</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">while</span> <span class="token punctuation">(</span>true<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Mat frame<span class="token punctuation">;</span>
        cap <span class="token operator">&gt;&gt;</span> frame<span class="token punctuation">;</span> <span class="token comment">// get a new frame from camera</span>
        <span class="token function">imshow</span><span class="token punctuation">(</span><span class="token string">&quot;real&quot;</span><span class="token punctuation">,</span> frame<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">waitKey</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="图像二值化-c-opencv" tabindex="-1"><a class="header-anchor" href="#图像二值化-c-opencv" aria-hidden="true">#</a> 图像二值化(C++ OpenCV)</h2><details class="custom-container details"><summary>什么是二值化</summary><p>在一张只有黑色和白色的图像中,这种图像的像素灰度值无论在什么数据类型中只有最大值和最小值两种取值,因此称为二值图像.</p></details><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;opencv2/core.hpp&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;opencv2/highgui.hpp&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;opencv2/imgproc.hpp&gt;</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token operator">*</span> argv<span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
   cv<span class="token operator">::</span>Mat img <span class="token operator">=</span> cv<span class="token operator">::</span><span class="token function">imread</span><span class="token punctuation">(</span><span class="token string">&quot;/home/qiy/桌面/test02.jpg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>img<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        std<span class="token operator">::</span>cout<span class="token operator">&lt;&lt;</span><span class="token string">&quot;error!&quot;</span><span class="token operator">&lt;&lt;</span>std<span class="token operator">::</span>endl<span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//因为已经是二值化的图片,无需再次二值化</span>
    <span class="token comment">//Mat gray;</span>
    <span class="token comment">//cv::cvtColor(img, gray, COLOR_BGR2GRAY);</span>
    cv<span class="token operator">::</span>Mat  gray_binary<span class="token punctuation">;</span>

    <span class="token comment">//灰度图像二值化</span>
    <span class="token comment">//THRESH_BINARY_INV--灰度大于阈值125则设为0, 其他值为最大</span>
    cv<span class="token operator">::</span><span class="token function">threshold</span><span class="token punctuation">(</span>img<span class="token punctuation">,</span> gray_binary<span class="token punctuation">,</span> <span class="token number">125</span><span class="token punctuation">,</span><span class="token number">255</span><span class="token punctuation">,</span> cv<span class="token operator">::</span>THRESH_BINARY_INV<span class="token punctuation">)</span><span class="token punctuation">;</span>
    cv<span class="token operator">::</span><span class="token function">imshow</span><span class="token punctuation">(</span><span class="token string">&quot;gray_binary&quot;</span><span class="token punctuation">,</span> gray_binary<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//grar_binary为二值化后图片</span>
    cv<span class="token operator">::</span><span class="token function">imwrite</span><span class="token punctuation">(</span><span class="token string">&quot;/home/qiy/test03.png&quot;</span><span class="token punctuation">,</span> gray_binary<span class="token punctuation">)</span><span class="token punctuation">;</span>
    cv<span class="token operator">::</span><span class="token function">waitKey</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>threshold()</li></ul><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">double</span> cv<span class="token operator">::</span><span class="token function">threshold</span><span class="token punctuation">(</span>
        Inputu src<span class="token punctuation">,</span>   <span class="token comment">//src--待二值化的图像cv_8u, cv_32f类型</span>
        OutputSrray dst<span class="token punctuation">,</span><span class="token comment">//二值化后的图像</span>
        <span class="token keyword">double</span> thresh<span class="token punctuation">,</span><span class="token comment">//二值化阈值</span>
        <span class="token keyword">double</span> maxval<span class="token punctuation">,</span><span class="token comment">//二值化过程最大值</span>
        <span class="token keyword">int</span> type<span class="token comment">//二值化方法标志</span>
        <span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="图像取反" tabindex="-1"><a class="header-anchor" href="#图像取反" aria-hidden="true">#</a> 图像取反</h2><h4 id="将二指图片的效果反转既黑色变白色-白色变黑色" tabindex="-1"><a class="header-anchor" href="#将二指图片的效果反转既黑色变白色-白色变黑色" aria-hidden="true">#</a> 将二指图片的效果反转既黑色变白色,白色变黑色</h4><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token function">bitwise_not</span><span class="token punctuation">(</span>InputArray src<span class="token punctuation">,</span> OutputArray dst<span class="token punctuation">,</span> InputArray mask <span class="token operator">=</span> <span class="token function">noArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="提取图像rio区域并画出矩形框" tabindex="-1"><a class="header-anchor" href="#提取图像rio区域并画出矩形框" aria-hidden="true">#</a> 提取图像RIO区域并画出矩形框</h2><h3 id="rect-函数" tabindex="-1"><a class="header-anchor" href="#rect-函数" aria-hidden="true">#</a> Rect()函数</h3><p>cv::Rect 表示一个矩形区域,常用的构造函数如下:</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token function">Rect_</span> <span class="token punctuation">(</span>_Tp _x<span class="token punctuation">,</span> _Tp _y<span class="token punctuation">,</span> _Tp _width<span class="token punctuation">,</span> _Tp _height<span class="token punctuation">)</span>
eg<span class="token operator">:</span> 
    Mat dstImage<span class="token operator">=</span><span class="token function">scrImage</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>scrImage<span class="token punctuation">.</span>rows<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span>scrImage<span class="token punctuation">.</span>cols<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="前两个参数表示的是所选区域的左上角的坐标值x和y-后两个参数表示所选区域的宽和高" tabindex="-1"><a class="header-anchor" href="#前两个参数表示的是所选区域的左上角的坐标值x和y-后两个参数表示所选区域的宽和高" aria-hidden="true">#</a> 前两个参数表示的是所选区域的左上角的坐标值x和y, 后两个参数表示所选区域的宽和高.</h4><h3 id="rectangle" tabindex="-1"><a class="header-anchor" href="#rectangle" aria-hidden="true">#</a> rectangle()</h3><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token function">rectangle</span><span class="token punctuation">(</span>Mat格式的图像<span class="token punctuation">,</span> <span class="token function">Point</span><span class="token punctuation">(</span>左上角点的列坐标<span class="token punctuation">,</span> 左上角的点的行坐标<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">Point</span><span class="token punctuation">(</span>右下角点的列坐标<span class="token punctuation">,</span> 右下角点的行坐标<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">Scalar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">rectangle</span><span class="token punctuation">(</span>img2<span class="token punctuation">,</span> <span class="token function">Point</span><span class="token punctuation">(</span>j<span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">Point</span><span class="token punctuation">(</span>j <span class="token operator">+</span> img4<span class="token punctuation">.</span>cols<span class="token punctuation">,</span> i <span class="token operator">+</span> img4<span class="token punctuation">.</span>rows<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">Scalar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>函数定义:</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>C<span class="token operator">++</span><span class="token operator">:</span>  <span class="token keyword">void</span>  <span class="token function">rectangle</span> <span class="token punctuation">(</span>InputOutputArray  img<span class="token punctuation">,</span> Point  pt1<span class="token punctuation">,</span> Point  pt2<span class="token punctuation">,</span> <span class="token keyword">const</span> Scalar<span class="token operator">&amp;</span>  color<span class="token punctuation">,</span> <span class="token keyword">int</span>  thickness<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">int</span> lineType<span class="token operator">=</span>LINE_8<span class="token punctuation">,</span> <span class="token keyword">int</span>  shift<span class="token operator">=</span><span class="token number">0</span>  <span class="token punctuation">)</span>
C<span class="token operator">++</span><span class="token operator">:</span>  <span class="token keyword">void</span>  <span class="token function">rectangle</span> <span class="token punctuation">(</span>Mat<span class="token operator">&amp;</span>  img<span class="token punctuation">,</span> Rect  rec<span class="token punctuation">,</span> <span class="token keyword">const</span> Scalar<span class="token operator">&amp;</span>  color<span class="token punctuation">,</span> <span class="token keyword">int</span>  thickness<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">int</span>  lineType<span class="token operator">=</span>LINE_8<span class="token punctuation">,</span> <span class="token keyword">int</span>  shift<span class="token operator">=</span><span class="token number">0</span>  <span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="模板匹配函数matchtemplate" tabindex="-1"><a class="header-anchor" href="#模板匹配函数matchtemplate" aria-hidden="true">#</a> 模板匹配函数matchTemplate()</h2><ul><li>CV_TM_SQDIFF 平方差匹配法:该方法采用平方差来进行匹配；最好的匹配值为0；匹配越差,匹配值越大.</li><li>CV_TM_CCORR 相关匹配法:该方法采用乘法操作；数值越大表明匹配程度越好.</li><li>CV_TM_CCOEFF 相关系数匹配法:1表示完美的匹配；-1表示最差的匹配.</li><li>CV_TM_SQDIFF_NORMED 归一化平方差匹配法</li><li>CV_TM_CCORR_NORMED 归一化相关匹配法</li><li>CV_TM_CCOEFF_NORMED 归一化相关系数匹配法</li></ul><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token function">matchTemplate</span><span class="token punctuation">(</span>img1<span class="token punctuation">,</span> img2<span class="token punctuation">,</span> dstImg<span class="token punctuation">,</span> TM_CCOEFF_NORMED<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>具体参见opencvAPI文档</p><div class="custom-container tip"><p class="custom-container-title">需要注意的是:一版需要配合minMaxLoc()函数使用</p></div><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">// 找矩阵的最佳匹配位置的函数是 minMaxLoc函数</span>
Point minPoint<span class="token punctuation">;</span>
Point maxPoint<span class="token punctuation">;</span>
<span class="token keyword">double</span> minVal<span class="token punctuation">;</span>
<span class="token keyword">double</span> maxVal<span class="token punctuation">;</span>
<span class="token function">minMaxLoc</span><span class="token punctuation">(</span>dstImg<span class="token punctuation">,</span> <span class="token operator">&amp;</span>minVal<span class="token punctuation">,</span> <span class="token operator">&amp;</span>maxVal<span class="token punctuation">,</span> <span class="token operator">&amp;</span>minPoint<span class="token punctuation">,</span><span class="token operator">&amp;</span>maxPoint<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="opencv图像rows-cols" tabindex="-1"><a class="header-anchor" href="#opencv图像rows-cols" aria-hidden="true">#</a> OpenCV图像rows cols</h2><ul><li>行rows:Y (height)</li><li>列cols:X (width)</li></ul><div class="custom-container danger"><p class="custom-container-title">在Mat类型变量访问时下标是反着写的,即:按照(y, x)的关系形式访问</p></div><h2 id="opencv提取rio区域并保存" tabindex="-1"><a class="header-anchor" href="#opencv提取rio区域并保存" aria-hidden="true">#</a> OpenCV提取RIO区域并保存</h2><p><strong>使用上述的Rect()函数画出RIO区域后,如果想把RIO区域提取出来并保存可以使用如下办法</strong></p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>Mat image<span class="token punctuation">;</span>
<span class="token comment">//创建矩形框</span>
Rect <span class="token function">rectRio</span><span class="token punctuation">(</span>image<span class="token punctuation">.</span>rows<span class="token operator">/</span><span class="token number">2.5</span><span class="token punctuation">,</span> image<span class="token punctuation">.</span>cols<span class="token operator">/</span><span class="token number">4.5</span><span class="token punctuation">,</span> image<span class="token punctuation">.</span>rows<span class="token operator">/</span><span class="token number">5</span><span class="token operator">*</span><span class="token number">4</span><span class="token punctuation">,</span> image<span class="token punctuation">.</span>cols<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
<span class="token comment">// 矩形框画出感兴趣区域RIO</span>
<span class="token function">rectangle</span><span class="token punctuation">(</span>image<span class="token punctuation">,</span> rectRio<span class="token punctuation">,</span> <span class="token function">Scalar</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// 创建感兴趣区域RIO</span>
Mat imgRio <span class="token operator">=</span> <span class="token function">image</span><span class="token punctuation">(</span>rectRio<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>将Rect区域赋值给一个Mat类型的变量即可</p><h2 id="图像阈值二值化函数threshold" tabindex="-1"><a class="header-anchor" href="#图像阈值二值化函数threshold" aria-hidden="true">#</a> 图像阈值二值化函数Threshold()</h2><p><strong>分离出与我们要分析的对象相对应的图像区域.这种分离基于对象像素和背景像素之间的强度变化</strong><a href="https://docs.opencv.org/2.4/doc/tutorials/imgproc/threshold/threshold.html?highlight=threshold" target="_blank" rel="noopener noreferrer">threshold<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">double</span> <span class="token function">threshold</span><span class="token punctuation">(</span> InputArray src<span class="token punctuation">,</span> OutputArray dst<span class="token punctuation">,</span>
                 <span class="token keyword">double</span> thresh<span class="token punctuation">,</span> <span class="token keyword">double</span> maxval<span class="token punctuation">,</span> <span class="token keyword">int</span> type<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ol><li>thresh是设定的阈值</li><li>maxval是当灰度值大于(或小于)阈值时将该灰度值赋成的值</li><li>type规定的是当前二值化的方式</li></ol><blockquote><p>type: 0:二进制 1:二进制反转 2:阈值截断 3:阈值归零 4:阈值归零反向 具体可参考官方API文档</p></blockquote><h2 id="opencv图像增强-锐化-算法" tabindex="-1"><a class="header-anchor" href="#opencv图像增强-锐化-算法" aria-hidden="true">#</a> OpenCV图像增强(锐化)算法</h2><h3 id="基于直方图均匀化的图像增强" tabindex="-1"><a class="header-anchor" href="#基于直方图均匀化的图像增强" aria-hidden="true">#</a> 基于直方图均匀化的图像增强</h3><p>直方图均衡化是通过<strong>调整图像的灰阶分布</strong>,使得在0~255灰阶上的分布更加均衡,<strong>提高了图像的对比度</strong>,达到改善图像主观视觉效果的目的.<strong>对比度较低的图像适合使用直方图均衡化方法来增强图像细节.</strong><br> 对应函数<strong>equalizeHist</strong></p><h3 id="laplace算子" tabindex="-1"><a class="header-anchor" href="#laplace算子" aria-hidden="true">#</a> Laplace算子</h3><p>锐化滤波器则使用邻域的微分作为算子,增大邻域间像素的差值,使图像的突变部分变的更加明显.锐化的作用是加强图像的边沿和轮廓,通常也成为<strong>高通滤波器</strong></p></div><!--[--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">最近更新于: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">贡献者: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: yian0728@163.com">yian</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/yian/image_processing/opencv/" class="router-link-active" aria-label="图像处理基础"><!--[--><!--]--> 图像处理基础 <!--[--><!--]--></a></span><!----></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/yian/assets/app.72515998.js" defer></script>
  </body>
</html>
